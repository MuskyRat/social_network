{"version":3,"sources":["../node_modules/classnames/index.js","components/Main/Users/Users.module.css","common/Paginator/Paginator.module.css","components/Main/Users/UsersSearchForm.module.css","components/Main/Users/User.module.css","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","redux/users-selectors.ts","common/Paginator/Paginator.tsx","components/Main/Users/UsersSearchForm.tsx","components/Main/Users/User.tsx","components/Main/Users/Users.tsx"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","decode","parse","require","encode","stringify","obj","prop","qs","sep","eq","options","regexp","split","maxKeys","len","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","xs","stringifyPrimitive","isFinite","name","undefined","map","objectKeys","ks","encodeURIComponent","f","res","keys","selectUsers","state","users","selectTotalUsersCount","totalUsersCount","selectCurrentPage","currentPage","selectPageSize","pageSize","selectIsFetching","isFetching","selectFollowingInProgress","followingInProgress","selectFilter","filter","Paginator","onPageChanged","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","wrapper","prev","onClick","p","pageNumber","activePage","next","UsersSearchForm","onFilterChanged","enableReinitialize","initialValues","term","friend","String","onSubmit","values","setSubmitting","actualFilter","isSubmitting","container","input","type","select","as","value","button","disabled","User","user","follow","unfollow","path","id","description","img","to","src","photos","small","userPhoto","alt","info","status","followed","some","Users","useSelector","dispatch","useDispatch","history","useHistory","location","useLocation","useEffect","parsed","queryString","search","actualPage","page","Number","requestUsers","query","pathname","useFollow","userId","useUnfollow","Preloader","u"],"mappings":";uGAAA,OAOC,WACA,aAEA,IAAIA,EAAS,GAAGC,eAEhB,SAASC,IAGR,IAFA,IAAIC,EAAU,GAELC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAC1C,IAAIG,EAAMF,UAAUD,GACpB,GAAKG,EAAL,CAEA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC3BL,EAAQM,KAAKF,QACP,GAAIG,MAAMC,QAAQJ,IACxB,GAAIA,EAAID,OAAQ,CACf,IAAIM,EAAQV,EAAWW,MAAM,KAAMN,GAC/BK,GACHT,EAAQM,KAAKG,SAGT,GAAgB,WAAZJ,EACV,GAAID,EAAIO,WAAaC,OAAOC,UAAUF,SACrC,IAAK,IAAIG,KAAOV,EACXP,EAAOkB,KAAKX,EAAKU,IAAQV,EAAIU,IAChCd,EAAQM,KAAKQ,QAIfd,EAAQM,KAAKF,EAAIO,aAKpB,OAAOX,EAAQgB,KAAK,KAGgBC,EAAOC,SAC3CnB,EAAWoB,QAAUpB,EACrBkB,EAAOC,QAAUnB,QAGX,kBACL,OAAOA,GADF,QAAe,OAAf,aA5CP,I,oBCNDkB,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,oBCA3DD,EAAOC,QAAU,CAAC,QAAU,2BAA2B,WAAa,8BAA8B,WAAa,8BAA8B,MAAQ,yBAAyB,KAAO,wBAAwB,KAAO,0B,oBCApND,EAAOC,QAAU,CAAC,QAAU,iCAAiC,UAAY,mCAAmC,OAAS,gCAAgC,OAAS,kC,oBCA9JD,EAAOC,QAAU,CAAC,QAAU,sBAAsB,YAAc,0BAA0B,IAAM,kBAAkB,KAAO,mBAAmB,KAAO,mBAAmB,OAAS,qBAAqB,OAAS,uB,iCCC7MA,EAAQE,OAASF,EAAQG,MAAQC,EAAQ,KACzCJ,EAAQK,OAASL,EAAQM,UAAYF,EAAQ,M,iCCuB7C,SAASxB,EAAe2B,EAAKC,GAC3B,OAAOd,OAAOC,UAAUf,eAAeiB,KAAKU,EAAKC,GAGnDT,EAAOC,QAAU,SAASS,EAAIC,EAAKC,EAAIC,GACrCF,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACX,IAAIJ,EAAM,GAEV,GAAkB,kBAAPE,GAAiC,IAAdA,EAAGxB,OAC/B,OAAOsB,EAGT,IAAIM,EAAS,MACbJ,EAAKA,EAAGK,MAAMJ,GAEd,IAAIK,EAAU,IACVH,GAAsC,kBAApBA,EAAQG,UAC5BA,EAAUH,EAAQG,SAGpB,IAAIC,EAAMP,EAAGxB,OAET8B,EAAU,GAAKC,EAAMD,IACvBC,EAAMD,GAGR,IAAK,IAAIhC,EAAI,EAAGA,EAAIiC,IAAOjC,EAAG,CAC5B,IAEIkC,EAAMC,EAAMC,EAAGC,EAFfC,EAAIZ,EAAG1B,GAAGuC,QAAQT,EAAQ,OAC1BU,EAAMF,EAAEG,QAAQb,GAGhBY,GAAO,GACTN,EAAOI,EAAEI,OAAO,EAAGF,GACnBL,EAAOG,EAAEI,OAAOF,EAAM,KAEtBN,EAAOI,EACPH,EAAO,IAGTC,EAAIO,mBAAmBT,GACvBG,EAAIM,mBAAmBR,GAElBtC,EAAe2B,EAAKY,GAEd7B,EAAQiB,EAAIY,IACrBZ,EAAIY,GAAG/B,KAAKgC,GAEZb,EAAIY,GAAK,CAACZ,EAAIY,GAAIC,GAJlBb,EAAIY,GAAKC,EAQb,OAAOb,GAGT,IAAIjB,EAAUD,MAAMC,SAAW,SAAUqC,GACvC,MAA8C,mBAAvCjC,OAAOC,UAAUF,SAASI,KAAK8B,K,iCC3DxC,IAAIC,EAAqB,SAASR,GAChC,cAAeA,GACb,IAAK,SACH,OAAOA,EAET,IAAK,UACH,OAAOA,EAAI,OAAS,QAEtB,IAAK,SACH,OAAOS,SAAST,GAAKA,EAAI,GAE3B,QACE,MAAO,KAIbrB,EAAOC,QAAU,SAASO,EAAKG,EAAKC,EAAImB,GAOtC,OANApB,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACC,OAARJ,IACFA,OAAMwB,GAGW,kBAARxB,EACFyB,EAAIC,EAAW1B,IAAM,SAASY,GACnC,IAAIe,EAAKC,mBAAmBP,EAAmBT,IAAMR,EACrD,OAAIrB,EAAQiB,EAAIY,IACPa,EAAIzB,EAAIY,IAAI,SAASC,GAC1B,OAAOc,EAAKC,mBAAmBP,EAAmBR,OACjDtB,KAAKY,GAEDwB,EAAKC,mBAAmBP,EAAmBrB,EAAIY,QAEvDrB,KAAKY,GAILoB,EACEK,mBAAmBP,EAAmBE,IAASnB,EAC/CwB,mBAAmBP,EAAmBrB,IAF3B,IAKpB,IAAIjB,EAAUD,MAAMC,SAAW,SAAUqC,GACvC,MAA8C,mBAAvCjC,OAAOC,UAAUF,SAASI,KAAK8B,IAGxC,SAASK,EAAKL,EAAIS,GAChB,GAAIT,EAAGK,IAAK,OAAOL,EAAGK,IAAII,GAE1B,IADA,IAAIC,EAAM,GACDtD,EAAI,EAAGA,EAAI4C,EAAG1C,OAAQF,IAC7BsD,EAAIjD,KAAKgD,EAAET,EAAG5C,GAAIA,IAEpB,OAAOsD,EAGT,IAAIJ,EAAavC,OAAO4C,MAAQ,SAAU/B,GACxC,IAAI8B,EAAM,GACV,IAAK,IAAIzC,KAAOW,EACVb,OAAOC,UAAUf,eAAeiB,KAAKU,EAAKX,IAAMyC,EAAIjD,KAAKQ,GAE/D,OAAOyC,I,oFCjFIE,EAAc,SAACC,GACxB,OAAOA,EAAMC,MAAMA,OAGVC,EAAwB,SAACF,GAClC,OAAOA,EAAMC,MAAME,iBAGVC,EAAoB,SAACJ,GAC9B,OAAOA,EAAMC,MAAMI,aAGVC,EAAiB,SAACN,GAC3B,OAAOA,EAAMC,MAAMM,UAGVC,EAAmB,SAACR,GAC7B,OAAOA,EAAMC,MAAMQ,YAGVC,EAA4B,SAACV,GACtC,OAAOA,EAAMC,MAAMU,qBAGVC,EAAe,SAACZ,GACzB,OAAOA,EAAMC,MAAMY,Q,oFCiBRC,EAhCwB,SAAC,GAIpC,IAJgI,IAAD,IAA1FT,mBAA0F,MAA5E,EAA4E,MAAzEU,qBAAyE,MAAzD,SAAAlC,GAAC,OAAIA,GAAoD,EAAjD0B,EAAiD,EAAjDA,SAAUS,EAAuC,EAAvCA,gBAAuC,IAAtBC,mBAAsB,MAAR,GAAQ,EAEzHC,EAAaC,KAAKC,KAAKJ,EAAkBT,GAC3Cc,EAAkB,GACd9E,EAAI,EAAGA,GAAK2E,EAAY3E,IAC5B8E,EAAMzE,KAAKL,GAEf,IAAM+E,EAAgBH,KAAKC,KAAKF,EAAaD,GAPkF,EAQrFM,mBAAS,GAR4E,mBAQxHC,EARwH,KAQzGC,EARyG,KASzHC,GAAyBF,EAAgB,GAAKP,EAAc,EAC5DU,EAAyBH,EAAgBP,EAE/C,OACI,sBAAKW,UAAWC,IAAMC,QAAtB,UACI,qBAAKF,UAAWC,IAAME,KAAtB,SACKP,EAAgB,GAAK,wBAAQQ,QAAS,WAAOP,EAAiBD,EAAgB,IAAzD,oBAG1B,qBAAKI,UAAWC,IAAMR,MAAtB,SACKA,EAAMR,QAAO,SAACoB,GAAD,OAAOA,GAAKP,GAAyBO,GAAKN,KACnDnC,KAAI,SAACyC,GAAD,OAAO,wBAAgBD,QAAS,WAAOjB,EAAckB,IAAKL,UAAWvF,IAAWwF,IAAMK,WAAP,eAAqBL,IAAMM,WAAaF,IAAM5B,IAAtH,SAAsI4B,GAAzHA,QAGjC,qBAAKL,UAAWC,IAAMO,KAAtB,SACKZ,EAAgBF,GAAiB,wBAAQU,QAAS,WAAOP,EAAiBD,EAAgB,IAAzD,wB,0BCsBnCa,EAhD8B,SAAC,GAA+B,IAA9BxB,EAA6B,EAA7BA,OAAQyB,EAAqB,EAArBA,gBAInD,OACI,qBAAKV,UAAWC,IAAMC,QAAtB,SACI,cAAC,IAAD,CACIS,oBAAkB,EAClBC,cAAe,CAACC,KAAM5B,EAAO4B,KAAMC,OAAQC,OAAO9B,EAAO6B,SACzDE,SAAU,SAACC,EAAD,GAA8B,IAApBC,EAAmB,EAAnBA,cACZC,EAA2B,CAC3BN,KAAMI,EAAOJ,KACbC,OAA0B,SAAlBG,EAAOH,OAAoB,KAAyB,SAAlBG,EAAOH,QAErDJ,EAAgBS,GAChBD,GAAc,IATtB,SAYK,gBAAEE,EAAF,EAAEA,aAAF,OAEG,cAAC,IAAD,UACI,sBAAKpB,UAAWC,IAAMoB,UAAtB,UACI,qBAAKrB,UAAWC,IAAMqB,MAAtB,SACI,cAAC,IAAD,CAAO5D,KAAK,OAAO6D,KAAK,WAG5B,qBAAKvB,UAAWC,IAAMuB,OAAtB,SACI,eAAC,IAAD,CAAO9D,KAAK,SAAS+D,GAAG,SAAxB,UACI,wBAAQC,MAAM,OAAd,uBACA,wBAAQA,MAAM,OAAd,2BACA,wBAAQA,MAAM,QAAd,kCAIR,qBAAK1B,UAAWC,IAAM0B,OAAtB,SACI,wBAAQJ,KAAK,SAASK,SAAUR,EAAhC,+B,kCCkBjBS,EAjDmB,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,KAAMC,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,SAAUjD,EAAyB,EAAzBA,oBAElDkD,EAAO,YAAcH,EAAKI,GAUhC,OACI,qBAAKlC,UAAWC,IAAMC,QAAtB,SACQ,sBAAKF,UAAWC,IAAMkC,YAAtB,UAEI,qBAAKnC,UAAWC,IAAMmC,IAAtB,SACI,cAAC,IAAD,CAASC,GAAIJ,EAAb,SACI,qBAAKK,IAAKR,EAAKS,OAAOC,MAAQV,EAAKS,OAAOC,MAAQC,IAAWC,IAAI,SAGzE,sBAAK1C,UAAWC,IAAM0C,KAAtB,UACI,qBAAK3C,UAAWC,IAAMvC,KAAtB,SACI,eAAC,IAAD,CAAS2E,GAAIJ,EAAb,UACI,qCADJ,KACkBH,EAAKpE,UAG3B,qBAAKsC,UAAWC,IAAM2C,OAAtB,SACI,eAAC,IAAD,CAASP,GAAIJ,EAAb,UACI,uCADJ,KACoBH,EAAKc,YAI7B,qBAAK5C,UAAWC,IAAM0B,OAAtB,SACKG,EAAKe,SACA,wBAAQzC,QA3Bd,WACpB4B,EAASF,EAAKI,KA2BoBN,SAAU7C,EAAoB+D,MAAK,SAACZ,GAAD,OAAQA,IAAOJ,EAAKI,MAD/D,sBAEA,wBAAQ9B,QAjChB,WAClB2B,EAAOD,EAAKI,KAiCsBN,SAAU7C,EAAoB+D,MAAK,SAACZ,GAAD,OAAQA,IAAOJ,EAAKI,MAD/D,+B,kBCkDnBa,UAjFS,WAEpB,IAAM1E,EAAQ2E,YAAY7E,GACpBI,EAAkByE,YAAY1E,GAC9BG,EAAcuE,YAAYxE,GAC1BG,EAAWqE,YAAYtE,GACvBG,EAAamE,YAAYpE,GACzBG,EAAsBiE,YAAYlE,GAClCG,EAAS+D,YAAYhE,GAErBiE,EAAWC,cACXC,EAAUC,cACVC,EAAWC,cAEjBC,qBAAU,WAEN,IAAMC,EAA0BC,IAAY1H,MAAMsH,EAASK,OAAOrG,OAAO,IAErE8D,EAAelC,EACf0E,EAAalF,EAIjB,OAFK+E,EAAOI,OAAMD,EAAaE,OAAOL,EAAOI,OACxCJ,EAAO3C,OAAMM,EAAY,2BAAOA,GAAP,IAAqBN,KAAM2C,EAAO3C,QACxD2C,EAAO1C,QACX,IAAK,OACDK,EAAY,2BAAOA,GAAP,IAAqBL,OAAQ,OACzC,MACJ,IAAK,OACDK,EAAY,2BAAOA,GAAP,IAAqBL,QAAQ,IACzC,MACJ,IAAK,QACDK,EAAY,2BAAOA,GAAP,IAAqBL,QAAQ,IAGjDmC,EAASa,YAAanF,EAAUgF,EAAYxC,MAE7C,IAEHoC,qBAAU,WAEN,IAAMQ,EAAyB,GAEZ,IAAhBtF,IAAmBsF,EAAMH,KAAO7C,OAAOtC,IACrCQ,EAAO4B,OAAMkD,EAAMlD,KAAO5B,EAAO4B,MACjB,OAAlB5B,EAAO6B,SAAiBiD,EAAMjD,OAASC,OAAO9B,EAAO6B,SAExDqC,EAAQnI,KAAK,CACTgJ,SAAU,SACVN,OAAQD,IAAYvH,UAAU6H,OAGnC,CAACtF,EAAaQ,IAEjB,IAQMgF,EAAY,SAACC,GACfjB,EAASlB,YAAOmC,KAGdC,EAAc,SAACD,GACjBjB,EAASjB,YAASkC,KAGtB,OACI,sBAAKlE,UAAWC,IAAMC,QAAtB,UACKrB,GAAc,cAACuF,EAAA,EAAD,IACf,cAAC,EAAD,CAAiBnF,OAAQA,EAAQyB,gBAnBjB,SAACzB,GACrBgE,EAASa,YAAanF,EAAU,EAAGM,OAmB/B,cAAC,EAAD,CAAWN,SAAUA,EAAUF,YAAaA,EAAaU,cAhB3C,SAACmB,GACnB2C,EAASa,YAAanF,EAAU2B,EAAYrB,KAe+CG,gBAAiBb,IACxG,qBAAKyB,UAAWC,IAAM5B,MAAtB,SACKA,EAAMT,KAAI,SAACyG,GAAD,OAAO,cAAC,EAAD,CAAiBvC,KAAMuC,EAAGtF,oBAAqBA,EAAqBgD,OAAQkC,EAAWjC,SAAUmC,GAAtFE,EAAEnC","file":"static/js/3.2bdf02a1.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__1oVVD\",\"users\":\"Users_users__Wg7Ee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__51pg3\",\"pageNumber\":\"Paginator_pageNumber__2wrlB\",\"activePage\":\"Paginator_activePage__1PvSf\",\"pages\":\"Paginator_pages__ISiaj\",\"prev\":\"Paginator_prev__2wN_6\",\"next\":\"Paginator_next__1exRK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UsersSearchForm_wrapper__1--Di\",\"container\":\"UsersSearchForm_container__fF4Lx\",\"select\":\"UsersSearchForm_select__aogDs\",\"button\":\"UsersSearchForm_button__1xm4H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__PJIcS\",\"description\":\"User_description__195qc\",\"img\":\"User_img__1aivF\",\"info\":\"User_info__1ClCT\",\"name\":\"User_name__3STpa\",\"status\":\"User_status__24cfr\",\"button\":\"User_button__3R-k1\"};","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const selectUsers = (state: AppStateType) => {\r\n    return state.users.users;\r\n};\r\n\r\nexport const selectTotalUsersCount = (state: AppStateType) => {\r\n    return state.users.totalUsersCount;\r\n};\r\n\r\nexport const selectCurrentPage = (state: AppStateType) => {\r\n    return state.users.currentPage;\r\n};\r\n\r\nexport const selectPageSize = (state: AppStateType) => {\r\n    return state.users.pageSize;\r\n};\r\n\r\nexport const selectIsFetching = (state: AppStateType) => {\r\n    return state.users.isFetching;\r\n};\r\n\r\nexport const selectFollowingInProgress = (state: AppStateType) => {\r\n    return state.users.followingInProgress;\r\n};\r\n\r\nexport const selectFilter = (state: AppStateType) => {\r\n    return state.users.filter;\r\n};","import React, {useState} from \"react\";\r\nimport style from './Paginator.module.css';\r\nimport classNames from \"classnames\";\r\n\r\ntype PropsType = {\r\n    currentPage?: number,\r\n    onPageChanged?: (pageNumber: number) => void,\r\n    pageSize: number,\r\n    totalItemsCount: number,\r\n    portionSize?: number\r\n}\r\n\r\nconst Paginator: React.FC<PropsType> = ({currentPage = 1, onPageChanged = x => x, pageSize, totalItemsCount, portionSize = 10}) => {\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages: number[] = [];\r\n    for(let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    const portionsCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <div className={style.prev}>\r\n                {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n            </div>\r\n\r\n            <div className={style.pages}>\r\n                {pages.filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => <button key={p} onClick={() => {onPageChanged(p)}} className={classNames(style.pageNumber, {[style.activePage]: p === currentPage})}>{p}</button>)}\r\n            </div>\r\n\r\n            <div className={style.next}>\r\n                {portionNumber < portionsCount && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport style from './UsersSearchForm.module.css';\r\nimport {Formik, Form, Field} from 'formik';\r\nimport {FilterType} from \"../../../redux/users-reducer\";\r\n\r\ntype PropsType = {\r\n    filter: FilterType;\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nconst UsersSearchForm: React.FC<PropsType> = ({filter, onFilterChanged}) => {\r\n\r\n\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <Formik\r\n                enableReinitialize\r\n                initialValues={{term: filter.term, friend: String(filter.friend)}}\r\n                onSubmit={(values, {setSubmitting}) => {\r\n                    let actualFilter: FilterType = {\r\n                        term: values.term,\r\n                        friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n                    }\r\n                    onFilterChanged(actualFilter);\r\n                    setSubmitting(false);\r\n                }}\r\n            >\r\n                {({isSubmitting}) => (\r\n\r\n                    <Form>\r\n                        <div className={style.container}>\r\n                            <div className={style.input}>\r\n                                <Field name='term' type='text' />\r\n                            </div>\r\n\r\n                            <div className={style.select}>\r\n                                <Field name='friend' as='select'>\r\n                                    <option value=\"null\">All users</option>\r\n                                    <option value=\"true\">Only followed</option>\r\n                                    <option value=\"false\">Only unfollowed</option>\r\n                                </Field>\r\n                            </div>\r\n\r\n                            <div className={style.button}>\r\n                                <button type='submit' disabled={isSubmitting}>Find</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </Form>\r\n\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default UsersSearchForm;","import React from \"react\";\r\nimport {UserType} from \"../../../types/types\";\r\nimport style from './User.module.css';\r\nimport userPhoto from '../../../assets/userPhoto.png';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void,\r\n    followingInProgress: number[]\r\n};\r\n\r\nconst User: React.FC<PropsType> = ({user, follow, unfollow, followingInProgress}) => {\r\n\r\n    const path = '/profile/' + user.id;\r\n\r\n    const followHandler = () => {\r\n        follow(user.id);\r\n    };\r\n\r\n    const unfollowHandler = () => {\r\n        unfollow(user.id);\r\n    };\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n                <div className={style.description}>\r\n\r\n                    <div className={style.img}>\r\n                        <NavLink to={path}>\r\n                            <img src={user.photos.small ? user.photos.small : userPhoto} alt=\"\"/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={style.info}>\r\n                        <div className={style.name}>\r\n                            <NavLink to={path}>\r\n                                <b>Name</b>: {user.name}\r\n                            </NavLink>\r\n                        </div>\r\n                        <div className={style.status}>\r\n                            <NavLink to={path}>\r\n                                <b>Status</b>: {user.status}\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div className={style.button}>\r\n                            {user.followed\r\n                                ? <button onClick={unfollowHandler}\r\n                                          disabled={followingInProgress.some((id) => id === user.id)}>Unfollow</button>\r\n                                : <button onClick={followHandler}\r\n                                          disabled={followingInProgress.some((id) => id === user.id)}>Follow</button>}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default User;","import React, {useEffect} from \"react\";\r\nimport style from './Users.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    selectCurrentPage, selectFilter, selectFollowingInProgress,\r\n    selectIsFetching,\r\n    selectPageSize,\r\n    selectTotalUsersCount,\r\n    selectUsers\r\n} from \"../../../redux/users-selectors\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {FilterType, follow, requestUsers, unfollow} from \"../../../redux/users-reducer\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport Paginator from \"../../../common/Paginator/Paginator\";\r\nimport UsersSearchForm from \"./UsersSearchForm\";\r\nimport User from \"./User\";\r\nimport queryString from 'querystring';\r\n\r\ntype QueryParamsType = {term?: string, friend?: string, page?: string}\r\n\r\nconst Users: React.FC = () => {\r\n\r\n    const users = useSelector(selectUsers);\r\n    const totalUsersCount = useSelector(selectTotalUsersCount);\r\n    const currentPage = useSelector(selectCurrentPage);\r\n    const pageSize = useSelector(selectPageSize);\r\n    const isFetching = useSelector(selectIsFetching);\r\n    const followingInProgress = useSelector(selectFollowingInProgress);\r\n    const filter = useSelector(selectFilter);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n\r\n        const parsed: QueryParamsType = queryString.parse(location.search.substr(1));\r\n\r\n        let actualFilter = filter;\r\n        let actualPage = currentPage;\r\n\r\n        if(!!parsed.page) actualPage = Number(parsed.page);\r\n        if(!!parsed.term) actualFilter = {...actualFilter, term: parsed.term};\r\n        switch (parsed.friend) {\r\n            case 'null':\r\n                actualFilter = {...actualFilter, friend: null};\r\n                break;\r\n            case 'true':\r\n                actualFilter = {...actualFilter, friend: true};\r\n                break;\r\n            case 'false':\r\n                actualFilter = {...actualFilter, friend: false};\r\n        }\r\n\r\n        dispatch(requestUsers(pageSize, actualPage, actualFilter));\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const query: QueryParamsType = {};\r\n\r\n        if(currentPage !== 1) query.page = String(currentPage);\r\n        if(!!filter.term) query.term = filter.term;\r\n        if(filter.friend !== null) query.friend = String(filter.friend);\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        })\r\n\r\n    }, [currentPage, filter])\r\n\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(pageSize, 1, filter));\r\n    };\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageSize, pageNumber, filter));\r\n    };\r\n\r\n    const useFollow = (userId: number) => {\r\n        dispatch(follow(userId));\r\n    };\r\n\r\n    const useUnfollow = (userId: number) => {\r\n        dispatch(unfollow(userId));\r\n    };\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            {isFetching && <Preloader />}\r\n            <UsersSearchForm filter={filter} onFilterChanged={onFilterChanged} />\r\n            <Paginator pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} />\r\n            <div className={style.users}>\r\n                {users.map((u) => <User key={u.id} user={u} followingInProgress={followingInProgress} follow={useFollow} unfollow={useUnfollow} />)}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;"],"sourceRoot":""}