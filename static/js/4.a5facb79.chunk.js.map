{"version":3,"sources":["../node_modules/classnames/index.js","hoc/withAuthRedirect.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Main/Dialogs/Dialogs.module.css","components/Main/Dialogs/Dialog.module.css","redux/dialogs-selectors.ts","components/Main/Dialogs/Dialog.tsx","components/Main/Dialogs/Message.tsx","components/Main/Dialogs/DialogsForm.tsx","components/Main/Dialogs/Dialogs.tsx"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","mapStateToProps","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","to","_objectWithoutProperties","source","excluded","target","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","selectDialogs","dialogs","selectMessages","messages","Dialog","dialog","path","id","className","style","wrapper","activeClassName","active","container","img","src","userPhoto","alt","name","userName","Message","message","in","dir","out","DialogsForm","addMessage","form","initialValues","newMessageBody","validationSchema","Yup","required","onSubmit","values","setSubmitting","resetForm","isSubmitting","textarea","type","cols","rows","button","disabled","compose","actions","messageElements","map","m","dialogElements","d","content","messages2"],"mappings":"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","file":"static/js/4.a5facb79.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\ntype StatePropsType = ReturnType<typeof mapStateToProps>;\r\n\r\ntype DispatchPropsType = {};\r\n\r\ntype PropsType = StatePropsType & DispatchPropsType;\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    const RedirectComponent: React.FC<PropsType> = (props) => {\r\n        const {isAuth, ...restProps} = props;\r\n        if(!isAuth) return <Redirect to={'/login'} />\r\n        return (\r\n            <WrappedComponent {...restProps as WCP} />\r\n        )\r\n\r\n    }\r\n\r\n    return connect<StatePropsType, DispatchPropsType, WCP, AppStateType>(mapStateToProps, {})(RedirectComponent);\r\n\r\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__3MXWD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dialog_wrapper__3YrpI\",\"container\":\"Dialog_container__1Ov_L\"};","import {AppStateType} from \"./redux-store\";\r\n\r\n\r\nexport const selectDialogs = (state: AppStateType) => {\r\n    return state.dialogs.dialogs;\r\n};\r\n\r\nexport const selectMessages = (state: AppStateType) => {\r\n    return state.dialogs.messages;\r\n};","import React from \"react\";\r\nimport style from './Dialog.module.css';\r\nimport {DialogType} from \"../../../types/types\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPhoto from '../../../assets/userPhoto.png';\r\n\r\ntype PropsType = {\r\n    dialog: DialogType\r\n}\r\n\r\nconst Dialog: React.FC<PropsType> = ({dialog}) => {\r\n\r\n    const path = '/dialogs/' + dialog.id;\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <NavLink to={path} activeClassName={style.active}>\r\n                <div className={style.container}>\r\n                    <div className={style.img}><img src={dialog.img ? dialog.img : userPhoto} alt=\"\"/></div>\r\n                    <div className={style.name}>{dialog.userName}</div>\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default Dialog;","import React from \"react\";\r\nimport style from './Message.module.css';\r\nimport {MessageType} from \"../../../types/types\";\r\nimport classNames from \"classnames\";\r\n\r\ntype PropsType = {\r\n    message: MessageType\r\n}\r\n\r\nconst Message: React.FC<PropsType> = ({message}) => {\r\n\r\n    const className = classNames(style.message, {[style.in]: message.dir === 'in', [style.out]: message.dir === 'out'});\r\n\r\n    return (\r\n        <div className={className}>\r\n            {message.message}\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default Message;","import React from \"react\";\r\nimport style from './DialogsForm.module.css';\r\nimport {Field, Form, Formik} from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\ntype PropsType = {\r\n    addMessage: (newMessageBody: string) => void\r\n}\r\n\r\nconst DialogsForm: React.FC<PropsType> = ({addMessage}) => {\r\n\r\n    return (\r\n        <div className={style.form}>\r\n            <Formik\r\n                initialValues={{newMessageBody: ''}}\r\n                validationSchema={Yup.object({\r\n                    newMessageBody: Yup.string().required('Requires')\r\n                })}\r\n                onSubmit={(values, {setSubmitting, resetForm}) => {\r\n                    addMessage(values.newMessageBody);\r\n                    resetForm();\r\n                    setSubmitting(false);\r\n                }}\r\n            >\r\n                {({isSubmitting}) => (\r\n\r\n                    <Form>\r\n\r\n                        <div className={style.textarea}>\r\n                            <Field name='newMessageBody' type='textarea' cols={50} rows={10}></Field>\r\n                        </div>\r\n\r\n                        <div className={style.button}>\r\n                            <button disabled={isSubmitting} type='submit'>Send</button>\r\n                        </div>\r\n\r\n                    </Form>\r\n\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default DialogsForm;","import React from \"react\";\r\nimport style from './Dialogs.module.css';\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {selectDialogs, selectMessages} from \"../../../redux/dialogs-selectors\";\r\nimport {actions} from \"../../../redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Dialog from \"./Dialog\";\r\nimport Message from \"./Message\";\r\nimport DialogsForm from \"./DialogsForm\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\n\r\n\r\nconst Dialogs: React.FC<PropsType> = ({dialogs, messages, addMessage}) => {\r\n\r\n    const messageElements = messages.map((m) => <Message key={m.id} message={m} />)\r\n\r\n    const dialogElements = dialogs.map((d) => <Dialog key={d.id} dialog={d} />)\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <div className={style.content}>\r\n                <div className={style.dialogs}>\r\n                    {dialogElements}\r\n                </div>\r\n                <div className={style.messages}>\r\n                    <div className={style.messages2}>\r\n                        {messageElements}\r\n                    </div>\r\n                    <DialogsForm addMessage={addMessage} />\r\n                </div>\r\n            </div>\r\n            <div className={style.form}>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    dialogs: selectDialogs(state),\r\n    messages: selectMessages(state)\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {...actions}),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n\r\ntype StatePropsType = ReturnType<typeof mapStateToProps>;\r\n\r\ntype DispatchPropsType = {\r\n    addMessage: (newMessageBody: string) => void\r\n}\r\n\r\ntype PropsType = StatePropsType & DispatchPropsType"],"sourceRoot":""}