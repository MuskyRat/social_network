(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[5],{259:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(2),c=s(260),r=(s(1),s(21)),n=s(11),i=s(0),j=function(e){return{isAuth:e.auth.isAuth}};function o(e){return Object(r.b)(j,{})((function(t){var s=t.isAuth,r=Object(c.a)(t,["isAuth"]);return s?Object(i.jsx)(e,Object(a.a)({},r)):Object(i.jsx)(n.a,{to:"/login"})}))}},272:function(e,t,s){e.exports={wrapper:"Chat_wrapper__3fGQ9",messagesWrapper:"Chat_messagesWrapper__2iFkB",messages:"Chat_messages__2p89K",message:"Chat_message__12M5P",info:"Chat_info__fDvrh",text:"Chat_text__17Zs8",formWrapper:"Chat_formWrapper__33u15",textarea:"Chat_textarea__1VdWI",button:"Chat_button__18lV7",emoji:"Chat_emoji__DSF8w",emojiEyes:"Chat_emojiEyes__2uyrU",emojiSmiley:"Chat_emojiSmiley__17pYA",emojiButton:"Chat_emojiButton__1h9um",emojiButtonPressed:"Chat_emojiButtonPressed__2bS27",emojiPicker:"Chat_emojiPicker__2WrgA"}},277:function(e,t,s){"use strict";s.r(t);var a=s(80),c=s(27),r=s(1),n=s.n(r),i=s(21),j=s(272),o=s.n(j),u=function(e){return e.chat.messages},b=function(e){return e.chat.status},l=s(114),m=s(49),O=s(26),d=s(36),h=s(259),_=s(258),f=s.n(_),x=s(273),p=s.n(x),v=s(81),g=s(0),C=function(){var e=Object(i.d)(u),t=Object(r.useState)(!0),s=Object(c.a)(t,2),a=s[0],n=s[1],j=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;a&&(null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"auto"}))}),[e]),Object(g.jsx)("div",{className:o.a.messagesWrapper,children:Object(g.jsxs)("div",{className:o.a.messages,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!a&&n(!0):a&&n(!1)},children:[e&&e.map((function(e){return Object(g.jsx)(N,{message:e},e.id)})),Object(g.jsx)("div",{ref:j})]})})},N=n.a.memo((function(e){var t=e.message;return console.log("Message<<<<<<"),Object(g.jsxs)("div",{className:o.a.message,children:[Object(g.jsx)("div",{className:o.a.info,children:Object(g.jsxs)(O.b,{to:"/profile/"+t.userId,children:[Object(g.jsx)("img",{src:t.photo?t.photo:m.a,alt:""})," ",Object(g.jsx)("b",{children:t.userName})]})}),Object(g.jsx)("div",{className:o.a.text,children:t.message})]})})),S=(t.default=Object(d.c)(h.a)((function(){var e=Object(i.d)(b),t=Object(i.c)(),s=Object(i.d)(u);return Object(r.useEffect)((function(){return t(Object(l.c)()),function(){t(Object(l.d)())}}),[]),s?Object(g.jsxs)("div",{className:o.a.wrapper,children:["error"===e&&Object(g.jsx)("div",{className:o.a.error,children:"Some error occurred. Please Refresh the page."}),Object(g.jsx)(C,{}),Object(g.jsx)(S,{})]}):Object(g.jsx)(v.a,{})})),function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),s=t[0],n=t[1],j=Object(i.c)(),u=Object(i.d)(b),m=function(){s&&(j(Object(l.b)(s)),n(""))},O=Object(r.useState)(!1),d=Object(c.a)(O,2),h=d[0],_=d[1],x=Object(r.useState)(null),v=Object(c.a)(x,2),C=v[0],N=v[1];return Object(r.useEffect)((function(){null!==C&&n(s+C.emoji)}),[C]),Object(g.jsxs)("div",{className:o.a.formWrapper,children:[Object(g.jsxs)("div",{className:o.a.textarea,children:[Object(g.jsx)("textarea",{value:s,onChange:function(e){n(e.currentTarget.value)},placeholder:"Enter your message...",onKeyPress:function(e){e.ctrlKey&&"Enter"===e.code&&m()}}),Object(g.jsxs)("div",{className:o.a.emoji,children:[Object(g.jsx)("div",{className:o.a.emojiEyes}),Object(g.jsx)("div",{className:o.a.emojiSmiley}),Object(g.jsx)("button",{onClick:function(){_(!h)},className:f()(o.a.emojiButton,Object(a.a)({},o.a.emojiButtonPressed,h))})]})]}),Object(g.jsx)("div",{className:o.a.button,children:Object(g.jsx)("button",{disabled:"ready"!==u,onClick:m,children:"Send"})}),h&&Object(g.jsx)("div",{className:o.a.emojiPicker,children:Object(g.jsx)(p.a,{onEmojiClick:function(e,t){N(t)}})})]})})}}]);
//# sourceMappingURL=5.4ee0d01a.chunk.js.map